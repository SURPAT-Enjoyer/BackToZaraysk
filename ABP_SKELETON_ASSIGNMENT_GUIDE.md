# Руководство по назначению скелета в Animation Blueprint для UE 5.3

## 🎯 **Цель**
Назначить правильный скелет в Animation Blueprint для корректной работы анимаций.

---

## 📋 **Способ 1: Через Details Panel (Рекомендуемый)**

### **Пошаговые инструкции:**

#### **Шаг 1: Откройте ABP_Player**
```
Content Browser → BackToZaraysk → Core → Characters → Player → ABP_Player
Double Click для открытия
```

#### **Шаг 2: Найдите секцию Animation Blueprint**
```
В правой панели (Details Panel) найдите секцию:
┌─────────────────────────────────┐
│ Animation Blueprint             │
├─────────────────────────────────┤
│ Target Skeleton: [Выпадающий]   │
│ Parent Class: [Текущий класс]   │
│ Preview Base Pose: [Настройки]  │
└─────────────────────────────────┘
```

#### **Шаг 3: Измените Target Skeleton**
```
1. Кликните на выпадающий список рядом с "Target Skeleton"
2. Выберите нужный скелет (например, SK_Mannequin)
3. Нажмите Enter или кликните вне списка
```

#### **Шаг 4: Сохраните изменения**
```
Ctrl + S или кнопка Save в панели инструментов
```

---

## 📋 **Способ 2: Через My Blueprint**

### **Пошаговые инструкции:**

#### **Шаг 1: Перейдите на вкладку My Blueprint**
```
В ABP_Player найдите вкладку "My Blueprint" в верхней части
```

#### **Шаг 2: Найдите секцию Animation Blueprint**
```
В левой панели найдите секцию:
┌─────────────────────────────────┐
│ Animation Blueprint             │
├─────────────────────────────────┤
│ Target Skeleton: [Текущий]      │
│ Parent Class: [Текущий]         │
└─────────────────────────────────┘
```

#### **Шаг 3: Измените Target Skeleton**
```
1. Кликните на поле "Target Skeleton"
2. Выберите нужный скелет из списка
3. Нажмите Enter
```

#### **Шаг 4: Сохраните**
```
Ctrl + S
```

---

## 📋 **Способ 3: Через Content Browser (При создании)**

### **Пошаговые инструкции:**

#### **Шаг 1: Создайте новый Animation Blueprint**
```
Content Browser → Right Click → Animation → Animation Blueprint
```

#### **Шаг 2: Настройте параметры создания**
```
В диалоге создания:
┌─────────────────────────────────┐
│ Create Animation Blueprint      │
├─────────────────────────────────┤
│ Asset Name: [Имя вашего ABP]    │
│ Package Path: [Путь к папке]    │
│ Target Skeleton: [Выберите]     │ ← ВАЖНО!
│ Parent Class: [Базовый класс]   │
└─────────────────────────────────┘
```

#### **Шаг 3: Создайте ABP**
```
Нажмите "Create"
```

---

## 📋 **Способ 4: Через Python скрипт (Автоматический)**

### **Использование скрипта:**

#### **Шаг 1: Откройте Python Console**
```
Window → Developer Tools → Python Console
```

#### **Шаг 2: Запустите скрипт**
```
exec(open('Content/Python/SetSkeletonInABP.py').read())
```

#### **Шаг 3: Проверьте результат**
```
Скрипт покажет:
- Доступные скелеты в проекте
- Текущий скелет в ABP
- Результат назначения нового скелета
```

---

## 🔍 **Проверка назначенного скелета**

### **Как проверить текущий скелет:**

#### **Метод 1: Через Details Panel**
```
1. Откройте ABP_Player
2. Посмотрите в Details Panel → Animation Blueprint → Target Skeleton
```

#### **Метод 2: Через Python**
```
exec(open('Content/Python/SetSkeletonInABP.py').read())
```

#### **Метод 3: Через Content Browser**
```
1. Right Click на ABP_Player
2. Asset Actions → Show in Asset Manager
3. Посмотрите Target Skeleton
```

---

## ⚠️ **Важные моменты**

### **Совместимость скелетов:**
- **Все анимации** должны использовать тот же скелет, что и ABP
- **State Machine** автоматически наследует скелет от ABP
- **Переменные** остаются неизменными при смене скелета

### **Что происходит при смене скелета:**
- ✅ **Переменные** сохраняются
- ✅ **State Machine** остается
- ✅ **Логика** не изменяется
- ❌ **Анимации** могут стать несовместимыми
- ❌ **Ноды** могут сломаться

### **Рекомендации:**
1. **Создавайте резервную копию** перед сменой скелета
2. **Проверяйте совместимость** анимаций
3. **Тестируйте** ABP после изменения
4. **Используйте одинаковый скелет** для всех связанных ассетов

---

## 🚨 **Решение проблем**

### **Проблема: "Skeleton not compatible"**
```
Решение:
1. Проверьте Target Skeleton в ABP
2. Убедитесь, что все анимации используют тот же скелет
3. Пересоздайте несовместимые анимации
```

### **Проблема: "Animation not found"**
```
Решение:
1. Проверьте пути к анимациям
2. Убедитесь, что анимации существуют
3. Перезагрузите анимации в Content Browser
```

### **Проблема: "Compile errors"**
```
Решение:
1. Проверьте совместимость скелетов
2. Удалите несовместимые ноды
3. Пересоздайте проблемные части ABP
```

---

## ✅ **Проверочный список**

### **Перед сменой скелета:**
- [ ] **Создана резервная копия** ABP
- [ ] **Проверена совместимость** анимаций
- [ ] **Подготовлен** новый скелет
- [ ] **Закрыты** все связанные ассеты

### **После смены скелета:**
- [ ] **ABP скомпилирован** без ошибок
- [ ] **Анимации** проигрываются корректно
- [ ] **State Machine** работает
- [ ] **Переменные** доступны
- [ ] **Тестирование** в игре пройдено

---

## 🎯 **Рекомендуемый workflow**

### **Для нового проекта:**
1. **Создайте скелет** персонажа
2. **Создайте ABP** с правильным скелетом
3. **Создайте анимации** с тем же скелетом
4. **Настройте State Machine**

### **Для существующего проекта:**
1. **Создайте резервную копию**
2. **Проверьте совместимость**
3. **Измените скелет** в ABP
4. **Обновите анимации** при необходимости
5. **Протестируйте** систему

---

## 🚀 **Готово!**

**Теперь вы знаете все способы назначения скелета в Animation Blueprint для UE 5.3!**

**Выберите подходящий способ и следуйте инструкциям для успешного назначения скелета.** 🎮





